{"version":3,"sources":["cards.js"],"names":["cardData","id","value","createCard","card","cardContainerElem","document","querySelector","droppableElem","createElement","classList","add","cardElem","setAttribute","cardTitleElem","cardDescriptionElem","cardFooterElem","priceElem","btnBuyElem","innerHTML","title","description","price","appendChild","addEventListener","e","showModalForm","listenFormCardSubmit","modalFormContainer","form","onsubmit","preventDefault","submitCard","then","editingCardEl","btnClose","onclick","style","display","data","window","fetch","url","body","JSON","stringify","console","log","error"],"mappings":"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","sourcesContent":["let cardData = {\r\n    id: null,\r\n    value: null\r\n}\r\n\r\n\r\n// const mainContainer = document.querySelector('#main-container');\r\n\r\n// const root = document.querySelector('#root');\r\n\r\nexport const createCard = (card) => {\r\n    const cardContainerElem = document.querySelector('#card-container');\r\n\r\n    // container for cards\r\n    const droppableElem = document.createElement('div');\r\n    droppableElem.id = 'drop-' + card.id;\r\n    droppableElem.classList.add('droppable droppable-js');\r\n\r\n    // product card\r\n    const cardElem = document.createElement('div');\r\n    cardElem.id = card.id;\r\n    cardElem.classList.add('card card-js');\r\n\r\n    // setting the attribute to true for the ability to drag the card\r\n    cardElem.setAttribute(\"draggable\", true);\r\n\r\n    // card name\r\n    const cardTitleElem = document.createElement('h2');\r\n    cardTitleElem.classList.add('title');\r\n\r\n    // card description\r\n    const cardDescriptionElem = document.createElement('div');\r\n    cardDescriptionElem.classList.add('description');\r\n\r\n    // container for price and button elements\r\n    const cardFooterElem = document.createElement('div');\r\n    cardFooterElem.classList.add('card-footer');\r\n\r\n    // card price\r\n    const priceElem = document.createElement('div');\r\n    priceElem.classList.add('price');\r\n\r\n    // buy button\r\n    const btnBuyElem = document.createElement('div');\r\n    btnBuyElem.classList.add('btn-buy');\r\n\r\n    cardTitleElem.innerHTML = card.title;\r\n    cardDescriptionElem.innerHTML = card.description;\r\n    priceElem.innerHTML = card.price;\r\n    btnBuyElem.innerHTML = 'Buy';\r\n\r\n    cardFooterElem.appendChild(priceElem)\r\n    cardFooterElem.appendChild(btnBuyElem)\r\n\r\n    cardElem.appendChild(cardTitleElem);\r\n    cardElem.appendChild(cardDescriptionElem);\r\n    cardElem.appendChild(cardFooterElem);\r\n    droppableElem.appendChild(cardElem);\r\n    cardContainerElem.appendChild(droppableElem);\r\n\r\n    cardTitleElem.addEventListener('click', (e) => {\r\n        cardData = { id: card.id, value: card.title };\r\n        showModalForm();\r\n    });\r\n\r\n\r\n};\r\n\r\nexport function listenFormCardSubmit() {\r\n    const modalFormContainer = document.querySelector('.js-modal-form-container')\r\n    const form = document.querySelector('js-card-form')\r\n\r\n    form.onsubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        submitCard()\r\n            .then(() => {\r\n                editingCardEl.value = cardData\r\n            })\r\n            .catch(() => {\r\n                // staging\r\n                editingCardEl.value = cardData\r\n            })\r\n            .finally(() => {\r\n                editingCardEl = null\r\n                cardData = null\r\n            })\r\n    }\r\n\r\n    const btnClose = document.querySelector('.js-btn-close')\r\n\r\n    btnClose.onclick = () => {\r\n        document.querySelector('js-card-form .js-input-form').value = ''\r\n        modalFormContainer.style.display = 'none'\r\n    }\r\n}\r\n\r\nfunction submitCard(data) {\r\n    return window.fetch({\r\n            url: '/postData',\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(() => console.log('success send data'))\r\n        .catch(() => console.error('failed send data'))\r\n}\r\n\r\nfunction showModalForm() {\r\n    const modalFormContainer = document.querySelector('js-modal-form-container')\r\n    modalFormContainer.style.display = 'flex' //TODO: заменить на класс\r\n}\r\n\r\n//root.appendChild(mainContainer);"],"file":"cards.js"}